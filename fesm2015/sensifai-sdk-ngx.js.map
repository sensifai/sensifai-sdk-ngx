{"version":3,"file":"sensifai-sdk-ngx.js.map","sources":["ng://sensifai-sdk-ngx/lib/sensifai-sdk-ngx.service.ts","ng://sensifai-sdk-ngx/lib/sensifai-sdk-ngx.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SensifaiSdkNgxService {\n\n  private MainHost = 'https://api.sensifai.com/api/';\n\n  constructor( private httpClient: HttpClient ) {}\n\n  /**\n   * Retrieve Result By Task ID\n   * @param TaskID: Your Process Task ID\n   * @param onSuccess: Success CallBack Function\n   * @param onError: Error CallBack Function\n   */\n  getResultByTaskID( TaskID: string, onSuccess, onError ) {\n    const payload = {\n      'query': 'query( $taskId: String! ){apiResult( taskId: $taskId){ ...on ImageResult{isDone errors imageResults{nsfwResult{type probability value}logoResult{description}landmarkResult{description}taggingResult{label probability}faceResult{detectedBoxesPercentage probability detectedFace label}}} ... on VideoResult{fps duration isDone framesCount errors videoResults{startSecond endSecond startFrame endFrame thumbnailPath taggingResult{label probability}actionResult{label probability}celebrityResult{name frequency} sportResult{label probability}nsfwResult{probability type value}}}}}',\n      'variables': {'taskId': TaskID }\n    };\n    this.httpClient.post( this.MainHost, payload ).subscribe( function (res) {\n      onSuccess( res );\n    }, function (err) {\n      onError( err );\n    });\n  }\n\n  /**\n   * Start Process By URL\n   * @param fileUrls: List Of URL's\n   * @param ApplicationToken: Application Token\n   * @param onSuccess: Success CallBack Function\n   * @param onError: Error CallBack Function\n   */\n  uploadByUrls( fileUrls: Array<string>, ApplicationToken: string, onSuccess, onError ) {\n    const payload = {\n      'query': 'mutation( $token: String!, $urls: [String!]! ){uploadByUrl( token: $token, urls: $urls){result error succeed{file taskId} cannotUpload}}',\n      'variables': {\n        'urls': fileUrls,\n        'token': ApplicationToken\n      }\n    };\n\n    this.httpClient.post( this.MainHost, payload ).subscribe( function (res) {\n      onSuccess( res );\n    }, function (err) {\n      onError( err );\n    });\n  }\n\n  /**\n   * Start Process By Files\n   * @param fileInputValue: List Of Files\n   * @param ApplicationToken: Application Token\n   * @param onSuccess: Success CallBack Function\n   * @param onError: Error CallBack Function\n   */\n  uploadByFiles( fileInputValue, ApplicationToken: string, onSuccess, onError ) {\n    const filesLength = fileInputValue.target.files.length;\n    const formData = new FormData();\n\n    /** Create Base Object Query Variable **/\n    const filesMap = {};\n    const nullFiles = Array( filesLength ).fill(null);\n    const payload = {\n      'operationName': null,\n      'query'        : 'mutation( $token: String!, $files: [Upload!]! ){uploadByFile(token: $token, files: $files){result error succeed{file taskId} cannotUpload}}',\n      'variables'    : {\n        'files': nullFiles,\n        'token': ApplicationToken\n      }\n    };\n\n    /** Map Object Generator Loop **/\n    for ( let i = 0, len = filesLength; i < len; i++) {\n      const tempObj = {};\n      tempObj[i]  = ['variables.files.' + i.toString()];\n      Object.assign( filesMap, tempObj);\n    }\n\n    /** Append Operation and Map to FormData Query **/\n    formData.append( 'operations', JSON.stringify( payload) );\n    formData.append( 'map', JSON.stringify( filesMap ) );\n\n    /** Append Files To FormData  **/\n    for ( let file = 0, len = filesLength; file < len; file++) {\n      formData.append( file.toString() , fileInputValue.target.files[file] );\n    }\n\n    this.httpClient.post( this.MainHost, formData ).subscribe( function (res) {\n      onSuccess( res );\n    }, function (err) {\n      onError( err );\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [],\n  exports: []\n})\nexport class SensifaiSdkNgxModule {}\n"],"names":[],"mappings":"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"}
