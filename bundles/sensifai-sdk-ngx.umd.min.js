!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common/http")):"function"==typeof define&&define.amd?define("sensifai-sdk-ngx",["exports","@angular/core","@angular/common/http"],e):e(t["sensifai-sdk-ngx"]={},t.ng.core,t.ng.common.http)}(this,function(t,e,n){"use strict";var i=function(){function t(t){this.httpClient=t,this.MainHost="https://api.sensifai.com/api/"}return t.prototype.getResultByTaskID=function(t,e,n){var i={query:"query( $taskId: String! ){apiResult( taskId: $taskId){ ...on ImageResult{isDone errors imageResults{nsfwResult{type probability value}logoResult{description}landmarkResult{description}taggingResult{label probability}faceResult{detectedBoxesPercentage probability detectedFace label}}} ... on VideoResult{fps duration isDone framesCount errors videoResults{startSecond endSecond startFrame endFrame thumbnailPath taggingResult{label probability}actionResult{label probability}celebrityResult{name frequency} sportResult{label probability}nsfwResult{probability type value}}}}}",variables:{taskId:t}};this.httpClient.post(this.MainHost,i).subscribe(function(t){e(t)},function(t){n(t)})},t.prototype.uploadByUrls=function(t,e,n,i){var o={query:"mutation( $token: String!, $urls: [String!]! ){uploadByUrl( token: $token, urls: $urls){result error succeed{file taskId} cannotUpload}}",variables:{urls:t,token:e}};this.httpClient.post(this.MainHost,o).subscribe(function(t){n(t)},function(t){i(t)})},t.prototype.uploadByFiles=function(t,e,n,i){for(var o=t.target.files.length,r=new FormData,a={},s={operationName:null,query:"mutation( $token: String!, $files: [Upload!]! ){uploadByFile(token: $token, files: $files){result error succeed{file taskId} cannotUpload}}",variables:{files:Array(o).fill(null),token:e}},l=0,u=o;l<u;l++){var p={};p[l]=["variables.files."+l.toString()],Object.assign(a,p)}r.append("operations",JSON.stringify(s)),r.append("map",JSON.stringify(a));var c=0;for(u=o;c<u;c++)r.append(c.toString(),t.target.files[c]);this.httpClient.post(this.MainHost,r).subscribe(function(t){n(t)},function(t){i(t)})},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:n.HttpClient}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(n.HttpClient))},token:t,providedIn:"root"}),t}(),o=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[],declarations:[],exports:[]}]}],t}();t.SensifaiSdkNgxService=i,t.SensifaiSdkNgxModule=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=sensifai-sdk-ngx.umd.min.js.map